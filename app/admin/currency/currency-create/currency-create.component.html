<nb-card accent="primary" [nbSpinner]="cardloading">
	<nb-card-header>
		<h6>{{'general.currencies' | translate }}</h6>
	</nb-card-header>
	<nb-card-body>
		<form [formGroup]="entityForm" #formDir="ngForm" (ngSubmit)="save(entityForm.value)" novalidate>
      <div class="mg-top form-group row">
				<label class="col-2" for="iso-code">
          {{ 'general.code' | translate }}
        </label>
				<div class="col-8">
          <nb-select id="isoCode" formControlName="isoCode" status="primary" fullWidth (selectedChange)="onCurrencyChange($event)">
            <nb-option *ngFor="let code of codes" [value]="code">{{ code }}</nb-option>
          </nb-select>
					<span class="text-danger" *ngIf="entityForm.hasError('required', ['isoCode']) && formDir.submitted" for="iso-code">ISOCode is required</span>
          <small id="emailConfirm" class="form-text text-muted">
            {{ 'general.codeHelper' | translate }}
            <a href="https://stripe.com/docs/currencies" target="_blank">{{ 'general.availableCurrencyCode' | translate }}</a>
          </small>
        </div>
			</div>
			<div class="mg-top form-group row">
				<label class="col-2" for="name">{{ 'general.name' | translate }}</label>
				<div class="col-8">
					<input class="form-control" id="name" name="name" formControlName="name" nbInput placeholder="{{ 'general.name' | translate }}" fullWidth status="primary" type="text">
					<span class="text-danger" *ngIf="entityForm.hasError('required', ['name']) && formDir.submitted" for="name">{{ 'general.requiredName' | translate }}</span>
				</div>
			</div>
			<div class="mg-top form-group row">
				<label class="col-2" for="symbol">{{ 'general.symbol' | translate }}</label>
				<div class="col-8">
					<input class="form-control" id="symbol" name="symbol" formControlName="symbol" nbInput placeholder="{{ 'general.symbolPlaceHolder' | translate }} " fullWidth status="primary" type="text">
					<span class="text-danger" *ngIf="entityForm.hasError('required', ['symbol']) && formDir.submitted" for="symbol">{{ 'general.requiredSymbol' | translate }}</span>
				</div>
			</div>
      <div class="mg-top form-group row" *ngIf="parentRoute === 'setting-list'">
				<label class="col-2" for="symbol"></label>
				<div class="col-8">
          <nb-checkbox formControlName="default" status="primary">{{'general.defaultCurrency' | translate }}</nb-checkbox>
				</div>
			</div>
			<div class="mg-top form-group row">
				<div class="offset-sm-2 col-sm-10">
					<button type="submit" [nbSpinner]="loading" status="primary" nbButton>{{ 'form.save' | translate }}</button>
				</div>
			</div>
		</form>
	</nb-card-body>
</nb-card>
